{"version":3,"sources":["utils/genID.js","reducers/SliceServiceList.js","components/ServiceEditor.js","components/ServiceListViewer.js","App.js","reportWebVitals.js","store/index.js","index.js"],"names":["module","exports","concat","Date","now","Math","random","toString","substring","initialState","editItem","filter","list","name","price","id","genID","counterSlice","createSlice","reducers","put","state","action","payload","save","_action$payload","push","_objectSpread","idx","findIndex","i","edit","find","remove","splice","reset","setFilter","_counterSlice$actions","actions","ServiceEditor","dispatch","useDispatch","store","useSelector","serviceList","_useState","useState","_useState2","_slicedToArray","setName","_useState3","_useState4","setPrice","_useState5","_useState6","setId","formReset","useEffect","_jsx","className","children","_jsxs","noValidate","autoComplete","onSubmit","event","_ref","preventDefault","onNewServiceSubmitHandler","TextField","value","onInput","e","target","label","variant","style","width","Button","color","type","onClick","ServiceListViewer","items","filteredList","item","toLowerCase","includes","startsWith","_Fragment","length","map","dataid","EditIcon","cursor","border","marginLeft","CloseIcon","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","ReactDOM","render","React","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.22d45cbb.chunk.js","sourcesContent":["function genID() {\n  return `${Date.now()}${Math.random().toString(36).substring(2)}`;\n}\n\nmodule.exports = genID;\n","import { createSlice } from '@reduxjs/toolkit';\nimport genID from '../utils/genID';\n\nconst initialState = {\n  editItem: null,\n  filter: null,\n  list: [\n    {\n      name: 'Замена стекла',\n      price: '21 000',\n      id: `${genID()}`,\n    },\n    {\n      name: 'Замена дисплея',\n      price: '25 000',\n      id: `${genID()}`,\n    },\n    {\n      name: 'Замена аккумулятора',\n      price: '4 000',\n      id: `${genID()}`,\n    },\n    {\n      name: 'Замена микрофона',\n      price: '5 500',\n      id: `${genID()}`,\n    },\n  ],\n};\n\nconst counterSlice = createSlice({\n  name: 'serviceList',\n  initialState,\n  reducers: {\n    put(state, action) {\n      state = action.payload;\n    },\n    save(state, action) {\n      const { id, name, price } = action.payload;\n      if (!id && name && price) {\n        state.list.push({ ...action.payload, id: genID() });\n      } else if (name && price) {\n        const idx = state.list.findIndex((i) => i.id === id);\n        state.list[idx] = action.payload;\n      }\n      state.editItem = null;\n    },\n    edit(state, action) {\n      const { id } = action.payload;\n      state.editItem = state.list.find((i) => i.id === id);\n    },\n    remove(state, action) {\n      const { id } = action.payload;\n      const editId = state.editItem ? state.editItem.id : null;\n      if (editId === id) {\n        state.editItem = null;\n      }\n      const idx = state.list.findIndex((i) => i.id === id);\n      state.list.splice(idx, 1);\n    },\n    reset(state, action) {\n      state.editItem = null;\n    },\n    setFilter(state, action) {\n      state.filter = action.payload;\n    },\n  },\n});\n\nexport const { edit, save, remove, reset, setFilter } = counterSlice.actions;\nexport default counterSlice.reducer;\n","import React, { useState, useEffect } from 'react';\nimport { Button, TextField } from '@material-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { save, reset, setFilter } from '../reducers/SliceServiceList';\n\nexport default function ServiceEditor() {\n  const dispatch = useDispatch();\n  const store = useSelector((store) => store.serviceList);\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState('');\n  const [id, setId] = useState('');\n\n  const onNewServiceSubmitHandler = ({ event, payload }) => {\n    event.preventDefault();\n    dispatch(save(payload));\n    formReset();\n  };\n\n  const formReset = () => {\n    setName('');\n    setPrice('');\n    setId('');\n    dispatch(reset());\n  };\n\n  useEffect(() => {\n    const editItem = store.editItem;\n    if (editItem) {\n      setName(store.editItem.name);\n      setPrice(store.editItem.price);\n      setId(store.editItem.id);\n    } else {\n      setName('');\n      setPrice('');\n      setId('');\n    }\n  }, [store.editItem]);\n\n  useEffect(() => {\n    dispatch(setFilter({ name, price }));\n  }, [dispatch, name, price]);\n\n  return (\n    <div className='card'>\n      <form\n        className={'new-post-input'}\n        noValidate\n        autoComplete='off'\n        onSubmit={(event) => {\n          onNewServiceSubmitHandler({ event, payload: { id, name, price } });\n        }}\n      >\n        <div className='input-holder'>\n          <TextField\n            value={name}\n            onInput={(e) => setName(e.target.value)}\n            id='name'\n            label='Имя сервиса'\n            variant='outlined'\n            style={{ width: '50%' }}\n          />\n          <TextField\n            value={price}\n            onInput={(e) => setPrice(e.target.value)}\n            id='price'\n            label='Стоимость сервиса'\n            variant='outlined'\n            style={{ width: '50%' }}\n          />\n        </div>\n        <div className='btn-holder'>\n          <Button variant='contained' color='primary' type='submit'>\n            Save\n          </Button>\n          {(name || price) && (\n            <Button\n              variant='contained'\n              color='secondary'\n              onClick={() => formReset()}\n            >\n              Cancel\n            </Button>\n          )}\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { edit, remove } from '../reducers/SliceServiceList';\n\nexport default function ServiceListViewer() {\n  const dispatch = useDispatch();\n  const items = useSelector((store) => store.serviceList.list);\n  const filter = useSelector((store) => store.serviceList.filter);\n\n  let filteredList = items;\n\n  if (filter) {\n    filteredList = items\n      .filter((item) => {\n        return item.name.toLowerCase().includes(filter.name.toLowerCase());\n      })\n      .filter((item) => {\n        return item.price.startsWith(filter.price);\n      });\n  }\n\n  const onDeleteHandler = (id) => {\n    dispatch(remove({ id }));\n  };\n  const onEditHandler = (id) => {\n    dispatch(edit({ id }));\n  };\n\n  return (\n    <>\n      {filteredList.length > 0 && (\n        <ul className='card'>\n          {filteredList.map((item) => (\n            <li className='card_item' key={item.id} dataid={item.id}>\n              <span className='card_item-name'>{item.name}</span>\n              <span className='card_item-price'>{item.price}</span>\n              <EditIcon\n                style={{\n                  cursor: 'pointer',\n                  border: 'black 1px solid',\n                  marginLeft: '1vmin',\n                }}\n                onClick={() => onEditHandler(item.id)}\n              />\n              <CloseIcon\n                style={{\n                  cursor: 'pointer',\n                  border: 'black 1px solid',\n                  marginLeft: '1vmin',\n                }}\n                onClick={() => onDeleteHandler(item.id)}\n              />\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport ServiceEditor from './components/ServiceEditor';\nimport ServiceListViewer from './components/ServiceListViewer';\n\nexport default function App() {\n  const items = useSelector((store) => store.serviceList.list);\n\n  return (\n    <div className='wrapper>'>\n      <div className='container'>\n        <ServiceEditor />\n        {items.length > 0 && <ServiceListViewer />}\n      </div>\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit';\nimport serviceList from '../reducers/SliceServiceList';\n\nexport default configureStore({ reducer: { serviceList } });\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store/index';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}